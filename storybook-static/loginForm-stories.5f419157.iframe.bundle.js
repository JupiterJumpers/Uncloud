"use strict";(self.webpackChunkjupiter_jumpers=self.webpackChunkjupiter_jumpers||[]).push([[884],{"./stories/loginForm.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Form:()=>Form,__namedExportsOrder:()=>__namedExportsOrder,default:()=>loginForm_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),index_esm=__webpack_require__("./node_modules/firebase/auth/dist/esm/index.esm.js"),navigation=__webpack_require__("./node_modules/next/navigation.js"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),firebase=__webpack_require__("./app/firebase.tsx"),customInput=__webpack_require__("./stories/customInput.tsx"),passwordInput=__webpack_require__("./stories/passwordInput.tsx"),Button=__webpack_require__("./stories/Button.tsx"),Icons=__webpack_require__("./stories/Icons.tsx"),console=__webpack_require__("./node_modules/console-browserify/index.js");const LoginForm=props=>{const[loginData,setLoginData]=(0,react.useState)({emailAddress:"",password:""}),[errorField,setErrorField]=(0,react.useState)({emailAddress:"",password:""}),[error,setError]=(0,react.useState)(null),router=(0,navigation.useRouter)(),validateField=(name,value)=>{let errorMessage="";return"emailAddress"!==name||value.trim()?"password"!==name||value.trim()?"emailAddress"!==name||/\S+@\S+\.\S+/.test(value)||(errorMessage="Email is invalid"):errorMessage="Please enter a password.":errorMessage="Please enter an email address.",errorMessage},handleChange=e=>{const{name,value}=e.target,errorMessage=validateField(name,value);setErrorField((prevErrors=>({...prevErrors,[name]:errorMessage}))),setLoginData((prevState=>({...prevState,[name]:value})))};return(0,jsx_runtime.jsxs)("div",{className:" flex h-full w-full max-w-[24rem] flex-col space-y-6 bg-backgroundSecondary p-4 py-6",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 ",children:[(0,jsx_runtime.jsx)(Icons.I,{type:"cloud-sun",size:"6rem",weight:"regular"}),(0,jsx_runtime.jsxs)("div",{className:"flex  w-full flex-col items-center justify-center gap-2  space-y-2",children:[(0,jsx_runtime.jsx)("div",{className:"text-3xl font-semibold",children:"Log in to Uncloud"}),(0,jsx_runtime.jsx)("div",{className:"text-center text-base font-light",children:"Feelings matter. Sign in to translate them into career success."})]})]}),(0,jsx_runtime.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),setError(null);const{emailAddress,password}=loginData,errors={emailAddress:validateField("emailAddress",(formData=loginData).emailAddress),password:validateField("password",formData.password)};var formData;if(Object.values(errors).some((error=>error)))setErrorField(errors);else try{const authUser=await(0,index_esm.x9)(firebase.j,emailAddress,password);console.log(authUser),console.log("Success. The user is Logged In"),router.push("/")}catch(error){console.log(error),setError("Password or Email is incorrect.")}},className:"flex flex-col gap-6",children:[(0,jsx_runtime.jsx)(customInput.A,{type:"email",placeholder:"Please type in your email",name:"emailAddress",value:loginData.emailAddress,label:"Email",handleChange,error:errorField.emailAddress}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,jsx_runtime.jsx)(passwordInput.A,{type:"password",placeholder:"Please type in your password",name:"password",value:loginData.password,label:"Password",handleChange,error:errorField.password}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-end text-sm",children:[(0,jsx_runtime.jsx)(link_default(),{href:"/auth/forgotPassword",className:"font-medium text-blue-500 underline",children:"Forgot Password?"})," "]})]}),error&&(0,jsx_runtime.jsx)("p",{className:"text-sm text-red-600",children:error}),(0,jsx_runtime.jsxs)("div",{className:"space-y-16",children:[(0,jsx_runtime.jsx)(Button.$,{type:"submit",label:"Log in",primary:!0}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-center font-semibold",children:["Not registered yet?Â "," ",(0,jsx_runtime.jsx)(link_default(),{href:"/auth/signUp",className:"font-medium text-blue-500 underline",children:"Create an account"})," "]})]})]})]})},loginForm=LoginForm;var _Form_parameters,_Form_parameters_docs,_Form_parameters1;LoginForm.__docgenInfo={description:"",methods:[],displayName:"LoginForm"};const loginForm_stories={title:"Login Form",component:loginForm,parameters:{nextjs:{appDirectory:!0},backgrounds:{default:"dark"}},tags:["autodocs"]},Form={};Form.parameters={...Form.parameters,docs:{...null===(_Form_parameters=Form.parameters)||void 0===_Form_parameters?void 0:_Form_parameters.docs,source:{originalSource:"{}",...null===(_Form_parameters1=Form.parameters)||void 0===_Form_parameters1||null===(_Form_parameters_docs=_Form_parameters1.docs)||void 0===_Form_parameters_docs?void 0:_Form_parameters_docs.source}}};const __namedExportsOrder=["Form"]}}]);